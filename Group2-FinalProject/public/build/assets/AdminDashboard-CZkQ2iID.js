import{_ as D}from"./AppLayout.vue_vue_type_script_setup_true_lang-BDv_a608.js";import{d as M,r as k,c as C,o as V,a as p,b as s,u as e,h as N,w as l,e as o,f as r,t as i,g as c,i as _,F as $,j,k as w,n as B,l as L}from"./app-BROu12nU.js";import{_ as H}from"./index-C_7nduq-.js";import{_ as d,a as u,b as f,c as v}from"./CardTitle.vue_vue_type_script_setup_true_lang-BKih_dnt.js";import{_ as x}from"./CardDescription.vue_vue_type_script_setup_true_lang-CjX4X73i.js";import{_ as I}from"./index-BE-gfsH9.js";import"./index-BMdsnYYQ.js";import"./VisuallyHidden-Bv5znWlI.js";import"./useForwardExpose-BNyMVrtm.js";import"./useForwardPropsEmits-DkhaOHi9.js";import"./index-BDXRdVD0.js";const O={class:"flex flex-col gap-6 p-6"},R={class:"grid gap-4 md:grid-cols-5"},S={class:"text-2xl font-bold"},E={class:"text-2xl font-bold text-blue-600"},F={class:"text-2xl font-bold text-yellow-600"},z={class:"text-2xl font-bold text-green-600"},U={class:"text-2xl font-bold text-red-600"},q={class:"grid gap-4 md:grid-cols-3"},G={class:"flex items-center justify-between"},J={key:0,class:"text-center py-8 text-muted-foreground"},K={key:1,class:"text-center py-8"},Q={key:2,class:"space-y-3"},W=["onClick"],X={class:"flex-1 space-y-1"},Y={class:"flex items-center gap-2"},Z={class:"font-semibold"},tt={class:"flex items-center gap-4 text-sm text-muted-foreground"},et={key:0},st={key:1},gt=M({__name:"AdminDashboard",setup(lt){const A=[{title:"Admin Dashboard",href:"/admin/dashboard"}],m=k([]),b=k(!0),g=C(()=>({total:m.value.length,open:m.value.filter(n=>n.status==="Open").length,inProgress:m.value.filter(n=>n.status==="In Progress").length,resolved:m.value.filter(n=>n.status==="Resolved").length,highPriority:m.value.filter(n=>n.priority==="High").length})),y=C(()=>m.value.slice(0,10)),P=async()=>{try{b.value=!0;const n=await L.get("/api/tickets");m.value=Array.isArray(n.data)?n.data:[]}catch(n){console.error("Error fetching tickets:",n),m.value=[]}finally{b.value=!1}},T=n=>({Open:"default","In Progress":"secondary",Resolved:"outline",Closed:"destructive"})[n]||"default",h=n=>({High:"text-red-500",Medium:"text-yellow-500",Low:"text-green-500"})[n]||"";return V(()=>{P()}),(n,t)=>(_(),p($,null,[s(e(N),{title:"Admin Dashboard"}),s(D,{breadcrumbs:A},{default:l(()=>[o("div",O,[t[21]||(t[21]=o("div",null,[o("h1",{class:"text-3xl font-bold"},"Admin Dashboard"),o("p",{class:"text-muted-foreground"},"Manage and oversee all support tickets")],-1)),o("div",R,[s(e(d),null,{default:l(()=>[s(e(u),{class:"pb-2"},{default:l(()=>[s(e(f),{class:"text-sm font-medium text-muted-foreground"},{default:l(()=>[...t[4]||(t[4]=[r("Total Tickets",-1)])]),_:1})]),_:1}),s(e(v),null,{default:l(()=>[o("div",S,i(g.value.total),1)]),_:1})]),_:1}),s(e(d),null,{default:l(()=>[s(e(u),{class:"pb-2"},{default:l(()=>[s(e(f),{class:"text-sm font-medium text-muted-foreground"},{default:l(()=>[...t[5]||(t[5]=[r("Open",-1)])]),_:1})]),_:1}),s(e(v),null,{default:l(()=>[o("div",E,i(g.value.open),1)]),_:1})]),_:1}),s(e(d),null,{default:l(()=>[s(e(u),{class:"pb-2"},{default:l(()=>[s(e(f),{class:"text-sm font-medium text-muted-foreground"},{default:l(()=>[...t[6]||(t[6]=[r("In Progress",-1)])]),_:1})]),_:1}),s(e(v),null,{default:l(()=>[o("div",F,i(g.value.inProgress),1)]),_:1})]),_:1}),s(e(d),null,{default:l(()=>[s(e(u),{class:"pb-2"},{default:l(()=>[s(e(f),{class:"text-sm font-medium text-muted-foreground"},{default:l(()=>[...t[7]||(t[7]=[r("Resolved",-1)])]),_:1})]),_:1}),s(e(v),null,{default:l(()=>[o("div",z,i(g.value.resolved),1)]),_:1})]),_:1}),s(e(d),null,{default:l(()=>[s(e(u),{class:"pb-2"},{default:l(()=>[s(e(f),{class:"text-sm font-medium text-muted-foreground"},{default:l(()=>[...t[8]||(t[8]=[r("High Priority",-1)])]),_:1})]),_:1}),s(e(v),null,{default:l(()=>[o("div",U,i(g.value.highPriority),1)]),_:1})]),_:1})]),o("div",q,[s(e(d),{class:"hover:bg-accent cursor-pointer transition-colors",onClick:t[0]||(t[0]=a=>e(c).visit("/tickets"))},{default:l(()=>[s(e(u),null,{default:l(()=>[s(e(f),null,{default:l(()=>[...t[9]||(t[9]=[r("All Tickets",-1)])]),_:1}),s(e(x),null,{default:l(()=>[...t[10]||(t[10]=[r("View and manage all support tickets",-1)])]),_:1})]),_:1})]),_:1}),s(e(d),{class:"hover:bg-accent cursor-pointer transition-colors",onClick:t[1]||(t[1]=a=>e(c).visit("/admin/users"))},{default:l(()=>[s(e(u),null,{default:l(()=>[s(e(f),null,{default:l(()=>[...t[11]||(t[11]=[r("User Management",-1)])]),_:1}),s(e(x),null,{default:l(()=>[...t[12]||(t[12]=[r("Manage user roles and permissions",-1)])]),_:1})]),_:1})]),_:1}),s(e(d),{class:"hover:bg-accent cursor-pointer transition-colors",onClick:t[2]||(t[2]=a=>e(c).visit("/tickets"))},{default:l(()=>[s(e(u),null,{default:l(()=>[s(e(f),null,{default:l(()=>[...t[13]||(t[13]=[r("Create Ticket",-1)])]),_:1}),s(e(x),null,{default:l(()=>[...t[14]||(t[14]=[r("Create a new support ticket",-1)])]),_:1})]),_:1})]),_:1})]),s(e(d),null,{default:l(()=>[s(e(u),null,{default:l(()=>[o("div",G,[o("div",null,[s(e(f),null,{default:l(()=>[...t[15]||(t[15]=[r("All Tickets",-1)])]),_:1}),s(e(x),null,{default:l(()=>[...t[16]||(t[16]=[r("Complete list of all support tickets",-1)])]),_:1})]),s(e(H),{onClick:t[3]||(t[3]=a=>e(c).visit("/tickets"))},{default:l(()=>[...t[17]||(t[17]=[r("Manage All",-1)])]),_:1})])]),_:1}),s(e(v),null,{default:l(()=>[b.value?(_(),p("div",J," Loading tickets... ")):y.value.length===0?(_(),p("div",K,[...t[18]||(t[18]=[o("p",{class:"text-muted-foreground"},"No tickets found",-1)])])):(_(),p("div",Q,[(_(!0),p($,null,j(y.value,a=>(_(),p("div",{key:a.id,onClick:ot=>e(c).visit(`/tickets/${a.id}`),class:"flex items-center justify-between p-4 border rounded-lg hover:bg-accent cursor-pointer transition-colors"},[o("div",X,[o("div",Y,[o("h4",Z,i(a.subject),1),s(e(I),{variant:T(a.status)},{default:l(()=>[r(i(a.status),1)]),_:2},1032,["variant"])]),o("div",tt,[o("span",null,"By "+i(a.creator?.name),1),t[19]||(t[19]=o("span",null,"•",-1)),o("span",{class:B(h(a.priority))},i(a.priority),3),t[20]||(t[20]=o("span",null,"•",-1)),o("span",null,i(new Date(a.created_at).toLocaleDateString()),1),a.assigned_to?(_(),p("span",et,"•")):w("",!0),a.assigned_to?(_(),p("span",st,"Assigned to "+i(a.assignedTo?.name),1)):w("",!0)])])],8,W))),128))]))]),_:1})]),_:1})])]),_:1})],64))}});export{gt as default};
