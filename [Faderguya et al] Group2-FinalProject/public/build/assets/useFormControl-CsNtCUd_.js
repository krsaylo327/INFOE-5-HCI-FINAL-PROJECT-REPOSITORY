import{a as c}from"./index-BMdsnYYQ.js";import{c as f,P as $}from"./app-BROu12nU.js";function l(n){return typeof n=="string"?`'${n}'`:new p().serialize(n)}const p=(function(){class n{#r=new Map;compare(r,e){const t=typeof r,o=typeof e;return t==="string"&&o==="string"?r.localeCompare(e):t==="number"&&o==="number"?r-e:String.prototype.localeCompare.call(this.serialize(r,!0),this.serialize(e,!0))}serialize(r,e){if(r===null)return"null";switch(typeof r){case"string":return e?r:`'${r}'`;case"bigint":return`${r}n`;case"object":return this.$object(r);case"function":return this.$function(r)}return String(r)}serializeObject(r){const e=Object.prototype.toString.call(r);if(e!=="[object Object]")return this.serializeBuiltInType(e.length<10?`unknown:${e}`:e.slice(8,-1),r);const t=r.constructor,o=t===Object||t===void 0?"":t.name;if(o!==""&&globalThis[o]===t)return this.serializeBuiltInType(o,r);if(typeof r.toJSON=="function"){const s=r.toJSON();return o+(s!==null&&typeof s=="object"?this.$object(s):`(${this.serialize(s)})`)}return this.serializeObjectEntries(o,Object.entries(r))}serializeBuiltInType(r,e){const t=this["$"+r];if(t)return t.call(this,e);if(typeof e?.entries=="function")return this.serializeObjectEntries(r,e.entries());throw new Error(`Cannot serialize ${r}`)}serializeObjectEntries(r,e){const t=Array.from(e).sort((s,a)=>this.compare(s[0],a[0]));let o=`${r}{`;for(let s=0;s<t.length;s++){const[a,u]=t[s];o+=`${this.serialize(a,!0)}:${this.serialize(u)}`,s<t.length-1&&(o+=",")}return o+"}"}$object(r){let e=this.#r.get(r);return e===void 0&&(this.#r.set(r,`#${this.#r.size}`),e=this.serializeObject(r),this.#r.set(r,e)),e}$function(r){const e=Function.prototype.toString.call(r);return e.slice(-15)==="[native code] }"?`${r.name||""}()[native]`:`${r.name}(${r.length})${e.replace(/\s*\n\s*/g,"")}`}$Array(r){let e="[";for(let t=0;t<r.length;t++)e+=this.serialize(r[t]),t<r.length-1&&(e+=",");return e+"]"}$Date(r){try{return`Date(${r.toISOString()})`}catch{return"Date(null)"}}$ArrayBuffer(r){return`ArrayBuffer[${new Uint8Array(r).join(",")}]`}$Set(r){return`Set${this.$Array(Array.from(r).sort((e,t)=>this.compare(e,t)))}`}$Map(r){return this.serializeObjectEntries("Map",r.entries())}}for(const i of["Error","RegExp","URL"])n.prototype["$"+i]=function(r){return`${i}(${r})`};for(const i of["Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Uint16Array","Int32Array","Uint32Array","Float32Array","Float64Array"])n.prototype["$"+i]=function(r){return`${i}[${r.join(",")}]`};for(const i of["BigInt64Array","BigUint64Array"])n.prototype["$"+i]=function(r){return`${i}[${r.join("n,")}${r.length>0?"n":""}]`};return n})();function g(n,i){return n===i||l(n)===l(i)}function m(n){return n==null}function z(n){return f(()=>$(n)?!!c(n)?.closest("form"):!0)}export{m as a,g as i,z as u};
